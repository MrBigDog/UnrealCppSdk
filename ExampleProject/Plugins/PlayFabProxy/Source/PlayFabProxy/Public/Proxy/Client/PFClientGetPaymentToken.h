// This is automatically generated by PlayFab SDKGenerator. DO NOT modify this manually!
#pragma once

#include "CoreMinimal.h"
#include "PlayFabProxyBaseModel.h"
#include "Core/PlayFabClientAPI.h"
#include "Core/PlayFabClientDataModels.h"
#include "Proxy/PlayFabClientBPDataModels.h"
#include "PFClientGetPaymentToken.generated.h"

UCLASS(MinimalAPI)
class UPFClientGetPaymentToken : public UPlayFabProxyBase
{
    GENERATED_UCLASS_BODY()
public:

    UPROPERTY(BlueprintAssignable)
        FBPClientGetPaymentTokenResultDelegate OnSuccess;

    // For payments flows where the provider requires playfab (the fulfiller) to initiate the transaction, but the client completes the rest of the flow. In the Xsolla case, the token returned here will be passed to Xsolla by the client to create a cart. Poll GetPurchase using the returned OrderId once you've completed the payment.
    UFUNCTION(BlueprintCallable, meta = (BlueprintInternalUseOnly = "true"), Category = "PlayFab|Client|Player Item Management")
        static UPFClientGetPaymentToken* GetPaymentToken(class APlayerController* PlayerController, const FBPClientGetPaymentTokenRequest& InGetPaymentTokenRequest);

    // UOnlineBlueprintCallProxyBase interface
    virtual void Activate() override;
    // End of UOnlineBlueprintCallProxyBase interface

private:
    FBPClientGetPaymentTokenRequest Request;
    PlayFab::UPlayFabClientAPI::FGetPaymentTokenDelegate SuccessDelegate;

    void OnSuccessCallback(const PlayFab::ClientModels::FGetPaymentTokenResult& Result);
};
